<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Game Shop</title>

    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script src="../Scripts/ajaxCalls.js"></script>
    <script src="../Scripts/game.js"></script>
    <link rel="stylesheet" href="../Css/game.css" />
    <script src="../Scripts/Script.js"></script>
  </head>

  <body>
    <div id="container">
      <h1 class="heading">Game Shop</h1>
      <a href="./MyList.html"
        ><button src>Go to Your List</button></a
      >

      <div id="games_container"></div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (
          typeof GAME === "undefined" ||
          !Array.isArray(GAME)
        ) {
          console.error("GAME data is not available!");
          return;
        }

        renderGames(GAME);
        initializeCarousel();

        $(document).on(
          "click",
          ".add_to_list_btn",
          function () {
            const index = $(this).data("index");
            const selectedGame = GAME[index];
            console.log("Sending game:", selectedGame);
            postToServer(selectedGame);
          }
        );
      });
    </script>
  </body>
</html>
